<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/style/base.css" />
		<script src="/socket.io/socket.io.js"></script>
		<script src="/scripts/base.js"></script>
		<script src="/scripts/build.js"></script>
		<title>Lemon-DM</title>
	</head>
	<body>
		<div> </div>
		<hr />
		<div class="vertical-container">
			<h3>Builds</h3>
			<a href="/build/create">Create new build</a>
			<table class="border1 table-container">
				<tbody id="build-table">
					<tr>
						<th>App Name</th>
						<th>Branch</th>
						<th>Created At (UTC)</th>
						<th></th>
					</tr>
					<% for(const build of builds){%>
					<tr>
						<td><%=build.Repository%></td>
						<td><%=build.Tag%></td>
						<td>
							<input
								readonly
								type="datetime-local"
								value="<%=
								build.CreatedAt.toISOString().slice(0, 16) %>"
							/>
						</td>
						<td>
							<a
								href="/deployment?name=<%=build.Repository%>&branch=<%=build.Tag%>"
							>
								Deployments
							</a>
						</td>
					</tr>
					<% } %>
				</tbody>
			</table>
		</div>
	</body>
</html>
